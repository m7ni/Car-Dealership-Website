@using PWEBAssignment.Models
@model List<PWEBAssignment.ViewModels.UserRolesViewModel>
@{
	ViewData["Title"] = "Index";
	Layout = "~/Views/Shared/_Layout.cshtml";
}
<h1>User Roles</h1>

<table class="table table-striped">
	<thead>
	<tr>
		<a class="btn btn-primary"
		   asp-controller="UserManager"
		   asp-action="Create" asp-route-type ="Manager">Create Manager</a>

		<a class="btn btn-primary"
		asp-controller="UserManager"
		asp-action="Create" asp-route-type="Employe">Create Employe</a>
		<th></th>
		<th>First Name</th>
		<th>Last Name</th>
		<th>Email</th>
		<th>Roles</th>
		<th>Action</th>
	</tr>
	</thead>
	<tbody>
	@foreach (var userRoles in Model)
	{
        
		<tr >
			<td>
				@*  @if (userRoles.Avatar?.Length > 0)
                {
                    <img id="MyAvatar" style="max-width: 100px; max-height: 100px"
                     src="data:image/*;base64,@(Convert.ToBase64String(userRoles.Avatar))" />
                }*@
			</td>
			<td>@userRoles.FirstName</td>
			<td>@userRoles.LastName</td>
			<td>@userRoles.UserName</td>
			<td>@string.Join(", ", userRoles.Roles.ToList())</td>
			<td>
				<a class="btn btn-primary"
					asp-controller="UserManager"
				   asp-action="Delete"
				   asp-route-userId="@userRoles.UserId">Delete</a>
			</td>
			<td>
				@if (userRoles.available)
				{
					<a class="btn btn-primary"
					   asp-controller="UserManager"
					   asp-action="ActivateUser"
					   asp-route-userId="@userRoles.UserId">Deactivate</a>
				}
				else
				{
					<a class="btn btn-primary"
					   asp-controller="UserManager"
					   asp-action="ActivateUser"
					   asp-route-userId="@userRoles.UserId">Activate</a>
				}

			</td>
		</tr>
	}
	</tbody>
</table>