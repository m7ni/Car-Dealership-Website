@model PWEBAssignment.Models.Reservations

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<hr/>
<div class="flex-fill">
	<dl class="row border border-dark rounded">
		<h4>Reservation</h4>
		<dt class="col-sm-2">
			User
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.ClientUser.firstName)
			@Html.DisplayFor(model => model.ClientUser.lastName)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Car)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Car.Model)
			[@Html.DisplayFor(model => model.Car.LicencePlate)]
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.DeliveryDate)
		</dt>
		<dd class="col-sm-10">
			@Model.DeliveryDate.ToString("dd/MM/yyyy")
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => @model.ReturnDate)
		</dt>
		<dd class="col-sm-10">
			@Model.ReturnDate.ToString("dd/MM/yyyy")
		</dd>

	</dl>
	@if(Model.DeliveryId!=null)
	{
		<dl class="row border border-dark rounded">
			<h4>Delivery</h4>

			<dt class="col-sm-2">
				Worker Identification
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.Delivery.EmployeUser.firstName)
				@Html.DisplayFor(model => model.Delivery.EmployeUser.lastName)
			</dd>
			<dt class="col-sm-2">
				Delivery Identification
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.DeliveryId)
			</dd>
			<dt class="col-sm-2">
				Car's Kilometers
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.Delivery.NumberOfKm)
			</dd>
			<dt class="col-sm-2">
				State of the Vehicle
			</dt>
			@if (Model.Delivery.VehicleDamage)
			{
				<dd class="col-sm-10">
					Damaged
				</dd>
			}
			else
			{
				<dd class="col-sm-10">
					Not Damaged
				</dd>
			}
			<dt class="col-sm-2">
				@Html.DisplayNameFor(model => model.Delivery.Observations)
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.Delivery.Observations)

			</dd>
		</dl>
	}
	
	@if(Model.ReturnId!=null)
	{
		<dl class="row border border-dark rounded">
			<h4>Return</h4 >
			<dt class="col-sm-2">
				Worker Identification
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.Return.EmployeUser.firstName)
				@Html.DisplayFor(model => model.Return.EmployeUser.lastName)
			</dd>
			<dt class="col-sm-2">
				Delivery Identification
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.ReturnId)
			</dd>
			<dt class="col-sm-2">
				Car's Kilometers
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.Return.NumberOfKm)
			</dd>
			<dt class="col-sm-2">
				State of the Vehicle
			</dt>
			@if (Model.Return.VehicleDamage)
			{
				<dd class="col-sm-10">
					Damaged
				</dd>
			}
			else
			{
				<dd class="col-sm-10">
					Not Damaged
				</dd>
			}
			<dt class="col-sm-2">
				@Html.DisplayNameFor(model => model.Return.Observations)
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.Return.Observations)

			</dd>
			<div class="row d-flex">
				@foreach (var file in ViewBag.Files)
				{
					<div class="col p-2 m-2" style="border-radius:10px; border:1px dotted #ccc;" >
						<a asp-action="DeleteImage"
						   asp-route-id="@Model.Id" asp-route-image="@file">
							<svg bootstrap-icon="XCircleFill" onclick="return confirm('Tem a certeza que deseja apagar esta imagem?')"
							     class="text-danger" width="24" height="24"
							     aria-label="Trash"></svg>
						</a>
						<img src="@file" class="img-thumbnail" style="max-width:150px; max-height:150px;" />
                        
					</div>
				}
			</div>

		</dl>
	}
	
</div>
<div>
	<a asp-action="Index">Back to List</a>
</div>
