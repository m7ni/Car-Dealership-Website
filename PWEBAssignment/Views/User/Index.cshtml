@using PWEBAssignment.Models
@model List<PWEBAssignment.ViewModels.UserRolesViewModel>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h1>Accouts</h1>

<table class="table table-striped">
    <thead>
    <tr>
	    <th>First Name</th>
        <th>Last Name</th>
        <th>Email</th>
        <th>Roles</th>
	    <th>Status</th>

    </tr>
    </thead>
    <tbody>
    @foreach (var userRoles in Model)
    {
	    <tr >
            
            <td>@userRoles.FirstName</td>
            <td>@userRoles.LastName</td>
            <td>@userRoles.UserName</td>
            <td>@string.Join(", ", userRoles.Roles.ToList())</td>
	        <td>
		        <a class="btn btn-primary"
		           asp-controller="User"
		           asp-action="Details"
		           asp-route-userId="@userRoles.UserId">Edit</a>
	        </td>
	        <td>
		        @if (userRoles.available)
		        {
			        <a class="btn btn-primary"
			           asp-controller="User"
			           asp-action="ActivateUser"
			           asp-route-userId="@userRoles.UserId">Deactivate</a>
		        }
		        else
		        {
			        <a class="btn btn-primary"
			           asp-controller="User"
			           asp-action="ActivateUser"
			           asp-route-userId="@userRoles.UserId">Activate</a>
		        }
		      
	        </td>
        </tr>
    }
    </tbody>
</table>
